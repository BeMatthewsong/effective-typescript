# 아이템 5 any 타입 지양하기

타입스크립트는 언제든지 타입 체커를 해제할 수 있기 때문에 선택적이다.
이 기능들의 핵심은 any 타입이다.
```ts
let age: number;  
age = '12';   // 타입 에러
age = '12' as any;
```

특별한 경우를 제외하고는 any를 사용하면 타입스크립트의 장점을 사용할 수 없다.

### any 타입에는 타입 안정성이 없다.
타입 체커는 선언에 따라 number 타입으로 판단하게 된다.
```ts
let age: number;  
age = '12' as any;  
age += 1; // 런타임은 정상이지만 age는 "121"
```

### any는 함수 시그니처를 무시한다.
함수를 작성할 때는 시그니처를 명시해야 한다.
호출하는 쪽은 약속된 타입의 입력을 제공하고, 함수는 약속된 타입의 출력을 반환한다.
-> any 타입을 사용하면 무시하게 된다.

```ts
function calculateAge(birthDate: Date): number {  
  //  
}  
  
let birthDate: any = '1990-01-19';  
calculateAge(birthDate); // 정상
```
- birthDate 매개변수는 string이 아닌 Date 타입이어야 하지만 any 타입을 사용하면 calculateAge의 시그니처를 무시하게 된다.

### any 타입에는 언어 서비스가 적용되지 않는다.
-> any 타입으로 지정할 경우 IDE 또는 코드 에디터의 도움을 받지 못한다.

### any는 타입 설계를 감춘다.
애플리케이션 상태 같은 객체를 정의하려면 복잡하기 때문에 각 상태 객체 안에 있는 수많은 속성의 타입을 작성해야 한다.
any 타입을 사용하면 간단하게 처리한다.

깔끔하고 정확하고 명료한 코드 작성을 위해 제대로 된 타입 설계는 필수이다. 
any 타입을 사용하면 타입 설계가 불분명해지기 때문에 설계가 잘 되었는지, 설계가 어떻게 되어 있는지 전혀 알 수 없다.

만약 동료가 코드를 검토해야 한다면, 동료는 애플리케이션의 상태를 어떻게 변경했는지 코드부터 재구성해야 한다.
### any는 타입시스템의 신뢰도를 떨어뜨린다
타입 체커가 실수를 잡아주고 코드의 신뢰도가 높아진다. 
그러나 런타임에 타입 오류를 발견하게 된다면 타입 체커를 신뢰할 수 없다.

타입스크립트는 개발 유지보수에 도움을 주는 목적을 가지지만, 코드 내에 존재하는 any 타입으로 인해 자바스크립트보다 일을 더 어렵게 만들기도 한다.

타입 오류도 고쳐야하며 그 와중에 실제 타입을 기억해야 하기 때문이다.

타입이 실제 값과 일치한다면 타입 정보를 기억해 둘  필요는 없다. 타입스크립트가 타입 정보를 기억해 주기 때문이다.


## Q&A
### Q. p31 마지막에서 세 번째 문장에 '어쩔 수 없이 any를 써야만 하는 상황도 있습니다.'

저희 멘토님께서 any를 쓰지 않는 방향으로 코드를 짤 수 있다고 하셨는데, 정말 불가피하게 any를 써야 하는 상황도 올 수 있을 텐데 그런 상황은 무슨 상황인지 간단한 예시라도 알려주시면 좋을 것 같습니다.

---
### A
보통 외부 라이브러리 사용할 때 any 타입으로 사용합니다. 외부 라이브러리/API 경우 데이터 타입이 저희가 제어할 수 없을 수 있거든요.  
만약 npm에 등록된 라이브러리가 타입스크립트를 지원하기가 애매할 경우 일단 외부라이브러리/API를 통해 가져온 데이터는 any로 받고 그 데이터를 타입을 걸어 놓으면 될 듯 합니다.

```ts
const externalLibrary: any;

interface ExternalData {
  name: string,
  age: string
}
const data: ExternalData = { ... externalLibrary };
```