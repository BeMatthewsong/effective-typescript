# [아이템 34] 부정확한 타입보다는 미완성 타입을 사용하기

> - 정확하게 타입을 모델링할 수 없다면, 부정확한 타입보다 미완성 타입이 낫다.
> - 타입 정보의 구체성 뿐만 아니라 오류 메시지와 자동 완성 기능에도 주의를 기울여야 한다.

## 타입 선언의 정밀도가 높을 수록 좋은 것은 아니다

타입 선언의 정밀도를 높일 떄에는 주의를 기울여야 한다. 실수가 발생하기 쉽고 잘못된 타입은 오히려 타입이 없는 것보다 못할 수 있기 때문이다.

아래의 예시는 위치 좌표를 받는 GeoJSON의 타입 정보이다.

```ts
interface Point {
  type: 'Point';
  coordinates: number[];
}
```

이때 `number[]`이 추상적이기에 경도와 위도를 나타내는 튜플 타입으로 선언하여 정밀도를 높일 수 있다.

```ts
interface Point {
  type: 'Point';
  coordinates: [number, number];
}
```

이와 같이 개선할 경우 타입의 정밀도가 높아졌기에 더 좋은 코드가 된 것 같이 보인다. 그러나 위 코드에서는 경도와 위도만을 명시했지만, GeoJSON의 위치 정보에는 세 번째 요소인 고도 등이 있을 수도 있다. 따라서 원래 사용하던 유저들은 타입 오류를 맞닥뜨리게 될 것이다.

이와 같이 과한 타입 선언으로 인해 오히려 타입이 부정확해지는 일을 방지해야한다.

## 구체적인 타입을 만들 수록 오류 메시지와 자동 완성 기능을 신경 써야 한다

타입 정보가 정밀해진다고 무조건적으로 더 좋은 코드라고 보기 어렵다. 타입스크립트에서는 타입 체크만큼 언어 서비스도 중요하기에 타입 오류 메시지 및 자동 완성이 올바르게 동작하는지 확인해야 한다.

아래 예시는 라이브러리 맵박스가 받는 입력값들을 구체적인 타입으로 선언해주고 있다. 첫 번째 값으로 연산 기호를 받으면 뒤에 두 개의 `number`의 연산을 진행한다. 이때 숫자가 3개 이상이 들어오면 안되기에 타입 선언에서 이를 방지하고자 정밀하게 타입을 구현하고 있다. 그 결과 타입 오류는 성공적으로 나지만, 잘못된 오류 메시지가 출력된다.

```ts
const expressions: Expression = {
  ['+', 1, 2, 3]
  //    ~~~~~~~~ 'number' 형식은 'string' 형식에 할당할 수 없습니다.
}
```
